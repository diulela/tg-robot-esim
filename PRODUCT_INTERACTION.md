# 产品选择交互流程

## 功能概述

产品列表使用简洁的交互方式：用户查看产品列表后，点击"选择产品"按钮，然后输入产品编号即可查看详情。

## 交互流程

### 1. 显示产品列表
```
🌏 亚洲区域产品

📄 第 1/3 页 (共 15 个产品)
━━━━━━━━━━━━━━━━━━

1. 亚洲多国通用 eSIM
   📊 5.0GB  ⏰ 30天  💰 15.99 USDT

2. 亚洲商务套餐 eSIM  
   📊 10.0GB  ⏰ 30天  💰 25.99 USDT

3. 亚洲旅游专享 eSIM
   📊 3.0GB  ⏰ 15天  💰 12.99 USDT

💡 点击下方「选择产品」按钮，然后回复产品编号查看详情

[🔍 选择产品]
[⬅️ 上一页] [📄 1/3] [下一页 ➡️]
[🔙 返回主菜单]
```

### 2. 用户点击"选择产品"
```
🔍 选择产品

请回复您想查看的产品编号
例如：回复 1 查看产品1的详情

💡 提示：直接输入数字即可

[🔙 返回产品列表]
```

### 3. 用户输入数字（如 "2"）
系统自动显示对应产品的详情页面。

## 技术实现

### 主要组件

1. **ProductsHandler** - 主要的产品处理器
   - `buildSimpleProductList()` - 构建简洁的产品列表
   - `buildSimpleProductListKeyboard()` - 构建包含"选择产品"按钮的键盘
   - `promptProductSelection()` - 显示产品选择提示
   - `handleProductSelection()` - 处理产品选择逻辑

2. **ProductNumberHandler** - 专门处理数字输入的消息处理器
   - `HandleMessage()` - 处理用户输入的数字
   - `CanHandle()` - 判断是否为1-5的数字消息

### 回调处理

- `product_select` - 用户点击"选择产品"按钮
- `products_page:N` - 翻页到第 N 页  
- `product_detail:ID` - 查看产品详情
- `product_buy:ID` - 购买产品
- `products_back` - 返回产品列表
- `main_menu` - 返回主菜单

## 优势

1. **交互简洁** - 只需点击一个按钮，然后输入数字
2. **视觉清晰** - 产品列表简洁明了，信息一目了然
3. **操作直观** - 数字编号对应清晰，不会混淆
4. **扩展性好** - 可以轻松支持更多产品和页面